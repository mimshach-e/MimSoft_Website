{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}Contact Us - {{ company_name|default:"MimSoft Corporation" }}{% endblock %}

{% block content %}
<!-- Hero Section with Navbar Integration -->
<section class="hero-section" style="background: linear-gradient(rgba(22, 0, 115, 0.7), rgba(22, 0, 115, 0.5)), url('/media/home/hame_hero_page_1.jpg'); background-size: cover; background-position: center; background-attachment: fixed; min-height: 100vh; display: flex; flex-direction: column; position: relative; overflow: hidden; border-radius: 0; margin: 10px 10px 0 10px; box-shadow: 0 20px 60px rgba(0,0,0,0.15); border: 1px solid rgba(255,255,255,0.1);">
    
    <!-- Hero Navigation -->
    <div class="hero-nav" style="position: absolute; top: 0; left: 0; right: 0; z-index: 1000; padding: 1.5rem 0; transition: all 0.4s ease; opacity: 1; visibility: visible;">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <!-- Logo and Brand -->
                <a href="{% url 'core:home' %}" class="hero-brand" style="font-family: 'Ebrima', sans-serif; font-weight: 700; font-size: 1.75rem; color: white; text-decoration: none; display: flex; align-items: center; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">
                    <img src="/media/company/company_logo/mimsoft corporation-logo icon.png" alt="{{ company_name|default:'MimSoft' }} Logo" style="height: 40px; width: auto; object-fit: contain; margin-right: 0.5rem;">
                    {{ company_name|default:"MimSoft" }}
                </a>
                
                <!-- Navigation Menu -->
                <div class="hero-nav-menu d-none d-lg-flex">
                    <a href="{% url 'core:home' %}" class="hero-nav-link" style="color: white; text-decoration: none; margin: 0 1rem; padding: 0.5rem 1rem; border-radius: 8px; transition: all 0.3s ease; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">Home</a>
                    <a href="{% url 'services:service_list' %}" class="hero-nav-link" style="color: white; text-decoration: none; margin: 0 1rem; padding: 0.5rem 1rem; border-radius: 8px; transition: all 0.3s ease; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">Services</a>
                    <a href="{% url 'projects:project_list' %}" class="hero-nav-link" style="color: white; text-decoration: none; margin: 0 1rem; padding: 0.5rem 1rem; border-radius: 8px; transition: all 0.3s ease; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">Portfolio</a>
                    <a href="{% url 'team:team_list' %}" class="hero-nav-link" style="color: white; text-decoration: none; margin: 0 1rem; padding: 0.5rem 1rem; border-radius: 8px; transition: all 0.3s ease; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">Team</a>
                    <a href="{% url 'testimonials:testimonial_list' %}" class="hero-nav-link" style="color: white; text-decoration: none; margin: 0 1rem; padding: 0.5rem 1rem; border-radius: 8px; transition: all 0.3s ease; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">Testimonials</a>
                    <a href="{% url 'core:about' %}" class="hero-nav-link" style="color: white; text-decoration: none; margin: 0 1rem; padding: 0.5rem 1rem; border-radius: 8px; transition: all 0.3s ease; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">About</a>
                    <a href="{% url 'contact:contact' %}" class="hero-nav-link active" style="color: white; text-decoration: none; margin: 0 1rem; padding: 0.5rem 1rem; border-radius: 8px; transition: all 0.3s ease; text-shadow: 0 2px 10px rgba(0,0,0,0.3); background: rgba(246, 93, 0, 0.2); border: 1px solid rgba(246, 93, 0, 0.4); box-shadow: 0 4px 15px rgba(246, 93, 0, 0.2);">Contact</a>
                </div>
                
                <!-- Mobile Menu Button -->
                <button class="hero-mobile-toggle d-lg-none" style="background: none; border: none; color: white; font-size: 1.5rem; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Hero Content -->
    <div class="container flex-grow-1 d-flex align-items-center">
        <div class="row align-items-center w-100">
            <div class="col-lg-8 mx-auto text-center">
                <div class="hero-content">
                    <!-- Contact Us Badge -->
                    <div class="mb-4">
                        <h6 class="fw-bold text-uppercase mb-3" style="color: #f65d00;">Contact Us</h6>
                    </div>
                    
                    <!-- Main Heading -->
                    <h1 class="display-3 fw-light mb-4 text-white" style="font-family: 'Poppins', sans-serif; line-height: 1.1; text-shadow: 0 4px 20px rgba(0,0,0,0.3); font-weight: 300;">
                        Let's Start Your Project
                    </h1>
                    
                    <!-- Subtitle -->
                    <p class="lead mb-5 text-white" style="font-family: 'Work Sans', sans-serif; font-weight: 500; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">
                        Ready to transform your business with innovative technology solutions? Get in touch with us today.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Form Section -->
<section class="section-padding">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mb-5 mb-lg-0">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-5">
                        <h3 class="fw-light mb-4" style="color: #160073;">Send Us a Message</h3>
                        
                        {% if form.errors %}
                        <div class="alert alert-danger mb-4">
                            <h6 class="fw-bold mb-2">Please correct the following errors:</h6>
                            {% if form.non_field_errors %}
                            <ul class="mb-0">
                                {% for error in form.non_field_errors %}
                                <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                            {% endif %}
                        </div>
                        {% endif %}
                        
                        <form method="post" class="needs-validation" novalidate>
                            {% csrf_token %}
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="{{ form.name.id_for_label }}" class="form-label fw-semibold">
                                        {{ form.name.label }} <span class="text-danger">*</span>
                                    </label>
                                    {{ form.name }}
                                    {% if form.name.errors %}
                                    <div class="invalid-feedback d-block">
                                        {% for error in form.name.errors %}
                                        {{ error }}
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="{{ form.email.id_for_label }}" class="form-label fw-semibold">
                                        {{ form.email.label }} <span class="text-danger">*</span>
                                    </label>
                                    {{ form.email }}
                                    {% if form.email.errors %}
                                    <div class="invalid-feedback d-block">
                                        {% for error in form.email.errors %}
                                        {{ error }}
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="{{ form.company.id_for_label }}" class="form-label fw-semibold">
                                        {{ form.company.label }}
                                    </label>
                                    {{ form.company }}
                                    {% if form.company.errors %}
                                    <div class="invalid-feedback d-block">
                                        {% for error in form.company.errors %}
                                        {{ error }}
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="{{ form.phone.id_for_label }}" class="form-label fw-semibold">
                                        {{ form.phone.label }}
                                    </label>
                                    {{ form.phone }}
                                    {% if form.phone.errors %}
                                    <div class="invalid-feedback d-block">
                                        {% for error in form.phone.errors %}
                                        {{ error }}
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>
                                
                                <div class="col-12">
                                    <label for="{{ form.project_interest.id_for_label }}" class="form-label fw-semibold">
                                        {{ form.project_interest.label }}
                                    </label>
                                    {{ form.project_interest }}
                                    {% if form.project_interest.errors %}
                                    <div class="invalid-feedback d-block">
                                        {% for error in form.project_interest.errors %}
                                        {{ error }}
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>
                                
                                <div class="col-12">
                                    <label for="{{ form.message.id_for_label }}" class="form-label fw-semibold">
                                        {{ form.message.label }} <span class="text-danger">*</span>
                                    </label>
                                    {{ form.message }}
                                    {% if form.message.errors %}
                                    <div class="invalid-feedback d-block">
                                        {% for error in form.message.errors %}
                                        {{ error }}
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>
                                
                                <div class="col-12">
                                    <div class="form-check">
                                        {{ form.consent_to_store }}
                                        <label class="form-check-label" for="{{ form.consent_to_store.id_for_label }}">
                                            {{ form.consent_to_store.label }}
                                        </label>
                                        {% if form.consent_to_store.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.consent_to_store.errors %}
                                            {{ error }}
                                            {% endfor %}
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                                
                                <div class="col-12">
                                    <label for="{{ form.captcha.id_for_label }}" class="form-label fw-semibold">
                                        {{ form.captcha.label }}
                                    </label>
                                    {{ form.captcha|as_crispy_field }}
                                    {% if form.captcha.errors %}
                                    <div class="invalid-feedback d-block">
                                        {% for error in form.captcha.errors %}
                                        {{ error }}
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                    <small class="form-text text-muted">{{ form.captcha.help_text }}</small>
                                </div>
                                
                                <div class="col-12">
                                    <button type="submit" class="btn btn-lg px-5 py-3" style="background: linear-gradient(135deg, #160073, #2d1b69); border: none; color: white; font-weight: 400; border-radius: 8px;">
                                        <i class="fas fa-paper-plane me-2"></i>Send Message
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body p-4">
                        <h5 class="card-title fw-light mb-4" style="color: #160073;">
                            <i class="fas fa-info-circle me-2" style="color: #f65d00;"></i>Get in Touch
                        </h5>
                        
                        <div class="mb-4">
                            <div class="d-flex align-items-start mb-3">
                                <div class="flex-shrink-0 me-3">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px; background: linear-gradient(135deg, #160073, #2d1b69);">
                                        <i class="fas fa-envelope text-white"></i>
                                    </div>
                                </div>
                                <div>
                                    <h6 class="fw-light mb-1" style="color: #160073;">Email</h6>
                                    <p class="text-muted mb-0">info@mimsoft.com</p>
                                </div>
                            </div>
                            
                            <div class="d-flex align-items-start mb-3">
                                <div class="flex-shrink-0 me-3">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px; background: linear-gradient(135deg, #160073, #2d1b69);">
                                        <i class="fas fa-phone text-white"></i>
                                    </div>
                                </div>
                                <div>
                                    <h6 class="fw-light mb-1" style="color: #160073;">Phone</h6>
                                    <p class="text-muted mb-0">+1 (555) 123-4567</p>
                                </div>
                            </div>
                            
                            <div class="d-flex align-items-start mb-3">
                                <div class="flex-shrink-0 me-3">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px; background: linear-gradient(135deg, #160073, #2d1b69);">
                                        <i class="fas fa-map-marker-alt text-white"></i>
                                    </div>
                                </div>
                                <div>
                                    <h6 class="fw-light mb-1" style="color: #160073;">Address</h6>
                                    <p class="text-muted mb-0">123 Tech Street<br>Digital City, DC 12345</p>
                                </div>
                            </div>
                            
                            <div class="d-flex align-items-start">
                                <div class="flex-shrink-0 me-3">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px; background: linear-gradient(135deg, #160073, #2d1b69);">
                                        <i class="fas fa-clock text-white"></i>
                                    </div>
                                </div>
                                <div>
                                    <h6 class="fw-light mb-1" style="color: #160073;">Business Hours</h6>
                                    <p class="text-muted mb-0">Mon - Fri: 9:00 AM - 6:00 PM<br>Sat: 10:00 AM - 2:00 PM</p>
                                </div>
                            </div>
                        </div>
                        
                        <hr class="my-4">
                        
                        <h6 class="fw-light mb-3" style="color: #160073;">Follow Us</h6>
                        <div class="d-flex gap-2">
                            <a href="#" class="btn rounded-circle" style="border: 2px solid #160073; color: #160073; background: transparent; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;" title="LinkedIn" onmouseover="this.style.background='#160073'; this.style.color='white';" onmouseout="this.style.background='transparent'; this.style.color='#160073';">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            <a href="#" class="btn rounded-circle" style="border: 2px solid #160073; color: #160073; background: transparent; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;" title="Twitter" onmouseover="this.style.background='#160073'; this.style.color='white';" onmouseout="this.style.background='transparent'; this.style.color='#160073';">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="#" class="btn rounded-circle" style="border: 2px solid #160073; color: #160073; background: transparent; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;" title="Facebook" onmouseover="this.style.background='#160073'; this.style.color='white';" onmouseout="this.style.background='transparent'; this.style.color='#160073';">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="#" class="btn rounded-circle" style="border: 2px solid #160073; color: #160073; background: transparent; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;" title="Instagram" onmouseover="this.style.background='#160073'; this.style.color='white';" onmouseout="this.style.background='transparent'; this.style.color='#160073';">
                                <i class="fab fa-instagram"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Global Locations Map -->
<section class="section-padding" style="background: linear-gradient(135deg, rgba(22, 0, 115, 0.05), rgba(22, 0, 115, 0.08));">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-lg-8 mx-auto">
                <h6 class="fw-bold text-uppercase mb-3" style="color: #f65d00;">Our Global Presence</h6>
                <h2 class="display-5 fw-light mb-4" style="color: #160073;">Serving Clients Worldwide</h2>
                <p class="lead" style="color: #6b7280;">With offices across three continents, we're always close to our clients</p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-lg-8 mb-4 mb-lg-0">
                <div class="card border-0 shadow-lg" style="border-radius: 15px; overflow: hidden;">
                    <div id="map" style="height: 500px; width: 100%;"></div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="row g-4">
                    <!-- Accra, Ghana -->
                    <div class="col-12">
                        <div class="card border-0 shadow-sm h-100" style="border-radius: 12px; background: white;">
                            <div class="card-body p-4">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 50px; height: 50px; background: linear-gradient(135deg, #f65d00, #ff7c00);">
                                        <i class="fas fa-map-marker-alt text-white"></i>
                                    </div>
                                    <div>
                                        <h6 class="fw-light mb-1" style="color: #160073;">Accra, Ghana</h6>
                                        <small class="text-muted">Headquarters</small>
                                    </div>
                                </div>
                                <p class="text-muted small mb-2">
                                    <i class="fas fa-building me-2" style="color: #f65d00;"></i>
                                    East Legon, Accra
                                </p>
                                <p class="text-muted small mb-2">
                                    <i class="fas fa-phone me-2" style="color: #f65d00;"></i>
                                    +233 24 123 4567
                                </p>
                                <p class="text-muted small mb-0">
                                    <i class="fas fa-envelope me-2" style="color: #f65d00;"></i>
                                    ghana@mimsoft.com
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- USA Office -->
                    <div class="col-12">
                        <div class="card border-0 shadow-sm h-100" style="border-radius: 12px; background: white;">
                            <div class="card-body p-4">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 50px; height: 50px; background: linear-gradient(135deg, #160073, #2d1b69);">
                                        <i class="fas fa-map-marker-alt text-white"></i>
                                    </div>
                                    <div>
                                        <h6 class="fw-light mb-1" style="color: #160073;">New York, USA</h6>
                                        <small class="text-muted">North America</small>
                                    </div>
                                </div>
                                <p class="text-muted small mb-2">
                                    <i class="fas fa-building me-2" style="color: #f65d00;"></i>
                                    Manhattan, New York
                                </p>
                                <p class="text-muted small mb-2">
                                    <i class="fas fa-phone me-2" style="color: #f65d00;"></i>
                                    +1 (555) 123-4567
                                </p>
                                <p class="text-muted small mb-0">
                                    <i class="fas fa-envelope me-2" style="color: #f65d00;"></i>
                                    usa@mimsoft.com
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- India Office -->
                    <div class="col-12">
                        <div class="card border-0 shadow-sm h-100" style="border-radius: 12px; background: white;">
                            <div class="card-body p-4">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 50px; height: 50px; background: linear-gradient(135deg, #f65d00, #ff7c00);">
                                        <i class="fas fa-map-marker-alt text-white"></i>
                                    </div>
                                    <div>
                                        <h6 class="fw-light mb-1" style="color: #160073;">Bangalore, India</h6>
                                        <small class="text-muted">Asia Pacific</small>
                                    </div>
                                </div>
                                <p class="text-muted small mb-2">
                                    <i class="fas fa-building me-2" style="color: #f65d00;"></i>
                                    Electronic City, Bangalore
                                </p>
                                <p class="text-muted small mb-2">
                                    <i class="fas fa-phone me-2" style="color: #f65d00;"></i>
                                    +91 80 1234 5678
                                </p>
                                <p class="text-muted small mb-0">
                                    <i class="fas fa-envelope me-2" style="color: #f65d00;"></i>
                                    india@mimsoft.com
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Map Script -->
<script>
function initMap() {
    // Map center (between all locations)
    const center = { lat: 20.0, lng: 0.0 };
    
    // Create map
    const map = new google.maps.Map(document.getElementById("map"), {
        zoom: 3,
        center: center,
        styles: [
            {
                "featureType": "all",
                "elementType": "geometry.fill",
                "stylers": [{"color": "#f5f5f5"}]
            },
            {
                "featureType": "water",
                "elementType": "geometry",
                "stylers": [{"color": "#c9c9c9"}]
            },
            {
                "featureType": "landscape",
                "elementType": "geometry",
                "stylers": [{"color": "#ffffff"}]
            }
        ]
    });
    
    // Branch locations
    const locations = [
        {
            position: { lat: 5.6037, lng: -0.1870 }, // Accra, Ghana
            title: "Accra, Ghana - Headquarters",
            content: `
                <div style="padding: 10px;">
                    <h6 style="color: #160073; margin: 0 0 5px 0;">Accra, Ghana</h6>
                    <p style="margin: 0; font-size: 14px; color: #6b7280;">East Legon, Accra<br>
                    +233 24 123 4567<br>
                    ghana@mimsoft.com</p>
                </div>
            `
        },
        {
            position: { lat: 40.7128, lng: -74.0060 }, // New York, USA
            title: "New York, USA - North America",
            content: `
                <div style="padding: 10px;">
                    <h6 style="color: #160073; margin: 0 0 5px 0;">New York, USA</h6>
                    <p style="margin: 0; font-size: 14px; color: #6b7280;">Manhattan, New York<br>
                    +1 (555) 123-4567<br>
                    usa@mimsoft.com</p>
                </div>
            `
        },
        {
            position: { lat: 12.9716, lng: 77.5946 }, // Bangalore, India
            title: "Bangalore, India - Asia Pacific",
            content: `
                <div style="padding: 10px;">
                    <h6 style="color: #160073; margin: 0 0 5px 0;">Bangalore, India</h6>
                    <p style="margin: 0; font-size: 14px; color: #6b7280;">Electronic City, Bangalore<br>
                    +91 80 1234 5678<br>
                    india@mimsoft.com</p>
                </div>
            `
        }
    ];
    
    // Add markers
    locations.forEach((location, index) => {
        const marker = new google.maps.Marker({
            position: location.position,
            map: map,
            title: location.title,
            icon: {
                url: `data:image/svg+xml;charset=UTF-8,${encodeURIComponent(`
                    <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="20" cy="20" r="18" fill="${index === 0 ? '#f65d00' : index === 1 ? '#160073' : '#f65d00'}" stroke="white" stroke-width="3"/>
                        <text x="20" y="26" text-anchor="middle" fill="white" font-family="Arial" font-size="16" font-weight="bold">${index + 1}</text>
                    </svg>
                `)}`,
                scaledSize: new google.maps.Size(40, 40)
            }
        });
        
        const infoWindow = new google.maps.InfoWindow({
            content: location.content
        });
        
        marker.addListener("click", () => {
            infoWindow.open(map, marker);
        });
    });
}

// Load Google Maps API
function loadGoogleMaps() {
    const script = document.createElement('script');
    script.src = 'https://maps.googleapis.com/maps/api/js?key=0ec2cc69523ceda5a7fcc75268987efe256af46373cb90864dc2adc83b649b3d&callback=initMap';
    script.async = true;
    script.defer = true;
    script.onerror = function() {
        console.error('Failed to load Google Maps API');
        showMapFallback();
    };
    document.head.appendChild(script);
}

// Fallback map display
function showMapFallback() {
    const mapContainer = document.getElementById('map');
    if (mapContainer) {
        mapContainer.innerHTML = `
            <div style="height: 100%; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #f8f9fa, #e9ecef); border-radius: 15px; position: relative; overflow: hidden;">
                <!-- Dotted World Map Background -->
                <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: radial-gradient(circle, #160073 1px, transparent 1px); background-size: 20px 20px; opacity: 0.1;"></div>
                
                <!-- World Map Silhouette -->
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80%; height: 60%; background: linear-gradient(135deg, rgba(22, 0, 115, 0.05), rgba(22, 0, 115, 0.1)); border-radius: 50%; opacity: 0.3;"></div>
                
                <!-- Continent Outlines (simplified) -->
                <div style="position: absolute; top: 20%; left: 15%; width: 25%; height: 30%; background: rgba(22, 0, 115, 0.08); border-radius: 30px 20px 25px 15px; opacity: 0.4;"></div>
                <div style="position: absolute; top: 25%; left: 60%; width: 20%; height: 25%; background: rgba(22, 0, 115, 0.08); border-radius: 20px 25px 15px 30px; opacity: 0.4;"></div>
                <div style="position: absolute; top: 60%; left: 70%; width: 15%; height: 20%; background: rgba(22, 0, 115, 0.08); border-radius: 15px 20px 25px 10px; opacity: 0.4;"></div>
                
                <!-- Map Title -->
                <div style="position: absolute; top: 20px; left: 20px; background: rgba(255, 255, 255, 0.9); padding: 10px 20px; border-radius: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    <h6 class="mb-0" style="color: #160073; font-weight: 500;">Global Branch Locations</h6>
                </div>
                
                <!-- Location Markers Overlay -->
                <div class="position-absolute" style="top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;">
                    <!-- Accra, Ghana Marker -->
                    <div class="position-absolute" style="top: 45%; left: 50%; transform: translate(-50%, -50%);">
                        <div class="d-flex flex-column align-items-center">
                            <div class="rounded-circle d-flex align-items-center justify-content-center mb-2" style="width: 50px; height: 50px; background: linear-gradient(135deg, #f65d00, #ff7c00); box-shadow: 0 4px 15px rgba(246, 93, 0, 0.4);">
                                <i class="fas fa-map-marker-alt text-white"></i>
                            </div>
                            <div class="text-center" style="background: rgba(255, 255, 255, 0.95); padding: 8px 12px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                                <small class="fw-bold" style="color: #160073;">Accra, Ghana</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- New York, USA Marker -->
                    <div class="position-absolute" style="top: 35%; left: 25%; transform: translate(-50%, -50%);">
                        <div class="d-flex flex-column align-items-center">
                            <div class="rounded-circle d-flex align-items-center justify-content-center mb-2" style="width: 50px; height: 50px; background: linear-gradient(135deg, #160073, #2d1b69); box-shadow: 0 4px 15px rgba(22, 0, 115, 0.4);">
                                <i class="fas fa-map-marker-alt text-white"></i>
                            </div>
                            <div class="text-center" style="background: rgba(255, 255, 255, 0.95); padding: 8px 12px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                                <small class="fw-bold" style="color: #160073;">New York, USA</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Bangalore, India Marker -->
                    <div class="position-absolute" style="top: 40%; left: 75%; transform: translate(-50%, -50%);">
                        <div class="d-flex flex-column align-items-center">
                            <div class="rounded-circle d-flex align-items-center justify-content-center mb-2" style="width: 50px; height: 50px; background: linear-gradient(135deg, #f65d00, #ff7c00); box-shadow: 0 4px 15px rgba(246, 93, 0, 0.4);">
                                <i class="fas fa-map-marker-alt text-white"></i>
                            </div>
                            <div class="text-center" style="background: rgba(255, 255, 255, 0.95); padding: 8px 12px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                                <small class="fw-bold" style="color: #160073;">Bangalore, India</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;
    }
}

// Initialize map when page loads
document.addEventListener('DOMContentLoaded', function() {
    // Try to load Google Maps API
    loadGoogleMaps();
    
    // Set a timeout to show fallback if API doesn't load
    setTimeout(function() {
        if (!window.google || !window.google.maps) {
            console.log('Google Maps API not loaded, showing fallback');
            showMapFallback();
        }
    }, 5000);
});
</script>

<!-- Modern CTA Section -->
<section class="cta-section" style="background: url('/media/home/software dev banner_start_project.png'); background-size: cover; background-position: center; background-repeat: no-repeat; background-attachment: fixed; position: relative; overflow: hidden; min-height: 30vh; display: flex; align-items: center; padding: 40px 0;">
    <!-- Black Overlay -->
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.6)); z-index: 1;"></div>
    <div class="container" style="position: relative; z-index: 2;">
        <div class="row justify-content-start">
            <div class="col-lg-6">
                <h2 class="display-3 fw-light text-white mb-4" style="font-family: 'Poppins', sans-serif; font-weight: 300; text-shadow: 0 6px 25px rgba(0,0,0,0.7), 0 2px 10px rgba(0,0,0,0.5); letter-spacing: -0.02em;">Ready to Get Started?</h2>
                <p class="lead text-white mb-5 fs-4" style="font-family: 'Work Sans', sans-serif; font-weight: 500; text-shadow: 0 4px 15px rgba(0,0,0,0.6), 0 1px 5px rgba(0,0,0,0.4); line-height: 1.6;">Let's discuss your project and see how we can help transform your business with innovative technology solutions.</p>
                <div class="d-flex flex-wrap gap-4">
                    <a href="{% url 'projects:project_list' %}" class="btn px-5 py-3" style="font-size: 1rem; border-radius: 30px; box-shadow: 0 8px 25px rgba(246, 93, 0, 0.4), 0 4px 10px rgba(0,0,0,0.2); font-weight: 400; font-family: 'Work Sans', sans-serif; transition: all 0.3s ease; border: none; background: linear-gradient(135deg, #f65d00, #ff7c00); color: white;">
                        <i class="fas fa-eye me-2"></i>View Our Work
                    </a>
                    <a href="{% url 'services:service_list' %}" class="btn px-5 py-3" style="font-size: 1rem; border-radius: 30px; border: 2px solid white; backdrop-filter: blur(15px); font-weight: 400; font-family: 'Work Sans', sans-serif; transition: all 0.3s ease; background: rgba(255,255,255,0.1); color: white;" onmouseover="this.style.background='white'; this.style.color='#000'; this.style.borderColor='white'; this.style.boxShadow='0 8px 25px rgba(255,255,255,0.3)';" onmouseout="this.style.background='rgba(255,255,255,0.1)'; this.style.color='white'; this.style.borderColor='white'; this.style.boxShadow='none';">
                        <i class="fas fa-cogs me-2"></i>Our Services
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

